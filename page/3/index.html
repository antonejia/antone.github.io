<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.2" />






<meta property="og:type" content="website">
<meta property="og:title" content="HEXO">
<meta property="og:url" content="http://yoursite.com/page/3/index.html">
<meta property="og:site_name" content="HEXO">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="HEXO">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/page/3/"/>





  <title>HEXO</title>
  














</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="">

  
  
    
  

  <div class="container sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">HEXO</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            About
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/09/08/目标/技术学习目标/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="AntoneJia">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HEXO">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/09/08/目标/技术学习目标/" itemprop="url">Untitled</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-09-08T23:20:51+08:00">
                2018-09-08
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>11.9号前 看完 &lt;&lt;从0开始学架构&gt;&gt;</p>
<ul>
<li>主要文章：2天一周的节奏（9.9号开始）</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/09/08/技术/从0开始学架构/单服务器高性能模式/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="AntoneJia">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HEXO">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/09/08/技术/从0开始学架构/单服务器高性能模式/" itemprop="url">Untitled</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-09-08T21:19:26+08:00">
                2018-09-08
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Reactor-和-Proactor"><a href="#Reactor-和-Proactor" class="headerlink" title="Reactor 和 Proactor"></a>Reactor 和 Proactor</h2><h3 id="什么是阻塞同步-非阻塞同步-非阻塞异步"><a href="#什么是阻塞同步-非阻塞同步-非阻塞异步" class="headerlink" title="什么是阻塞同步 / 非阻塞同步 / 非阻塞异步"></a>什么是阻塞同步 / 非阻塞同步 / 非阻塞异步</h3><ul>
<li>IO操作分为两个步骤：1. 等待数据准备好（读取到内核缓存） 2. 将数据从内核读取到用户空间（进程空间）；一般来说步骤1花费的时间远远大于步骤2。<ul>
<li>阻塞同步: 1上阻塞 2上也阻塞</li>
<li>非阻塞同步：1上阻塞，2上不阻塞</li>
<li>非阻塞异步：1上不阻塞 2上也不阻塞</li>
</ul>
</li>
</ul>
<h3 id="什么是-Reactor-Proactor"><a href="#什么是-Reactor-Proactor" class="headerlink" title="什么是 Reactor / Proactor"></a>什么是 Reactor / Proactor</h3><p>这俩个东西解的是啥命题：服务器采用的并发模型，即服务器如何管理连接，以及服务器如何处理请求</p>
<p>以上说的都跟操作系统的IO模型以及进程模型有关</p>
<ul>
<li>IO模型：阻塞 非阻塞 同步 异步</li>
<li>进程模型：单进程 多进程 多线程</li>
</ul>
<h4 id="Reactor"><a href="#Reactor" class="headerlink" title="Reactor"></a>Reactor</h4><p>PPC（Process Per Connection）模式的缺点：每个连接一个进程，连接结束后进程销毁，浪费资源。解决-&gt; : 资源复用。不再为每个连接分配进程，采用<strong>进程池</strong>，将连接分配给进程，一个进程可以处理多个连接。</p>
<p>引入<strong>资源池</strong>后，一个新的问题：进程怎么高效的处理多个连接的业务。一般，连接的处理过程是：read -&gt; 业务处理 -&gt; write；在一个进程管理多个连接的场景下，如果进程阻塞在一个连接的read上，即使别的连接有数据可读，也不可能处理别的请求，显然是不合理的。所以<strong>解决方式是： 只有连接上有数据的时候进程才去处理，这就是IO多路复用技术</strong>的来源</p>
<p>IO多路复用（处理请求的方式） + 资源池（管理连接的方式） = Reactor。 该模式核心实体：Reactor和资源池，模式：</p>
<ul>
<li><p>单Reactor单进程</p>
<blockquote>
<p>Redis是此模式。此模式适用于业务处理非常快的场景</p>
</blockquote>
</li>
<li><p>单Reactor多线程</p>
</li>
<li>多Reactor多进程/线程</li>
</ul>
<p><strong> Reactor是 非阻塞同步的，Proactor是非阻塞异步的；Reactor可以理解为“有事件时，我通知你，你来处理；Proactor是来了事件我来处理，处理完了通知你”。“我”是操作系统内核，事件是：有新连接，有数据可读，有数据可写，“你”是我们的程序代码</strong></p>
<blockquote>
<p>NIO 是 Reactor模式；AIO是 Proactor模式</p>
<p>打个比方，餐厅点菜：</p>
<ul>
<li>柜台点了菜后，在那儿等着。就是阻塞同步；</li>
<li>柜台点了菜后，回到餐桌后，菜好了后，通知你来取。就是Reactor模式；（有事件时，我通知你，你来处理）</li>
<li>柜台点了菜后，回到餐桌后，该干嘛干嘛，菜好了后，给你端上来，你只负责吃就好了，就是Proactor模式（来了事件我来处理，处理完了通知你，“吃”就是业务代码）</li>
</ul>
</blockquote>
<h4 id="案例"><a href="#案例" class="headerlink" title="案例"></a>案例</h4><p>消息中间件是什么模式</p>
<blockquote>
<p>单Reactor 多线程；中间件一般连接数固定，请求量较大；单reactor来管理就好了，多线程处理请求</p>
</blockquote>
<p>Redis是什么模式</p>
<blockquote>
<p>单Reactor 单进程/线程</p>
</blockquote>
<p>什么是 select / epoll</p>
<blockquote>
<p>可以这么理解：select / epoll是IO多路复用的具体实现，都是同步IO。<br><a href="https://www.cnblogs.com/jeakeven/p/5435916.html" target="_blank" rel="noopener">https://www.cnblogs.com/jeakeven/p/5435916.html</a></p>
</blockquote>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/08/26/技术/从0开始学架构/高性能缓存架构/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="AntoneJia">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HEXO">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/26/技术/从0开始学架构/高性能缓存架构/" itemprop="url">Untitled</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-08-26T14:41:06+08:00">
                2018-08-26
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="为什么要使用缓存"><a href="#为什么要使用缓存" class="headerlink" title="为什么要使用缓存"></a>为什么要使用缓存</h3><p>典型场景</p>
<ol>
<li><p>读多写少的场景</p>
<blockquote>
<p>memorycache 单台机器 QPS能达到 50000</p>
</blockquote>
</li>
<li><p>需要复杂计算后得出数据，存储系统无能为力</p>
<blockquote>
<p>如计算论坛实时在线人数</p>
</blockquote>
</li>
</ol>
<h3 id="使用缓存常见的问题和解法"><a href="#使用缓存常见的问题和解法" class="headerlink" title="使用缓存常见的问题和解法"></a>使用缓存常见的问题和解法</h3><h4 id="缓存击穿"><a href="#缓存击穿" class="headerlink" title="缓存击穿"></a>缓存击穿</h4><ol>
<li>读取不存在的key<blockquote>
<p>key不存在，当高并发请求，所有请求均打到DB</p>
</blockquote>
</li>
</ol>
<p>解法：不存在的key，存放一个空值</p>
<ol>
<li>缓存的生成耗时较长<blockquote>
<p>典型场景：商品分页数据，后面的页数访问较少，缓存容易失效。此时高并发的请求均打到DB</p>
</blockquote>
</li>
</ol>
<p>解法：并没有比较好的解法，做好监控</p>
<h4 id="缓存雪崩"><a href="#缓存雪崩" class="headerlink" title="缓存雪崩"></a>缓存雪崩</h4><blockquote>
<p>雪崩指 缓存失效后 引起系统性能急剧下降的情况</p>
</blockquote>
<p>但缓存失效后，对于业务量较大的系统，大量的高并发请求到缓存，任意一个线程同时去请求到DB（都不知道其他线程已经有在请求DB，并更新缓存），导致DB压力较大，一连串反应，影响系统稳定性</p>
<p>解法：</p>
<ol>
<li>更新锁<br>采用分布式锁，保障只有一个线程去请求到DB并更新缓存。</li>
</ol>
<p><strong>分布式锁的实现方式要研究一下</strong> <a href="https://www.cnblogs.com/austinspark-jessylu/p/8043726.html" target="_blank" rel="noopener">https://www.cnblogs.com/austinspark-jessylu/p/8043726.html</a></p>
<ol>
<li><p>后台定时更新<br>所有请求都不达到DB，而是通过定时任务定时更新缓存，防止失效。</p>
<ul>
<li>问题：定时任务更新不及时导致数据不一致怎么办？<blockquote>
<p>对于需要即时数据一致的情况，可以在数据更新后 消息通知触发定时任务运行；</p>
</blockquote>
</li>
</ul>
</li>
</ol>
<p>其他解法：</p>
<p>双key策略：要缓存的key的过期时间为t，key1没有过期时间，当缓存读取不到key的内容时就返回key1的内容，然后触发一个事件同时更新key和key1</p>
<h4 id="缓存穿透和雪崩什么区别"><a href="#缓存穿透和雪崩什么区别" class="headerlink" title="缓存穿透和雪崩什么区别"></a>缓存穿透和雪崩什么区别</h4><p>我的理解：</p>
<p>穿透是表述了现象：缓存没生效，达到了DB；雪崩更强调结果，导致系统一连串稳定性问题；<br>穿透可能会导致雪崩</p>
<h4 id="缓存热点"><a href="#缓存热点" class="headerlink" title="缓存热点"></a>缓存热点</h4><p>对单个key 的访问过大，导致单机问题；</p>
<p>解法：</p>
<ul>
<li>冗余存储，分散查询。比如缓存key为key1，冗余存储多份数据 key1, key2, key3，存储value相同；上层查询策略上采用随机路由查询；</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/08/12/技术/从0开始学架构/NoSQL/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="AntoneJia">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HEXO">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/12/技术/从0开始学架构/NoSQL/" itemprop="url">Untitled</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-08-12T21:49:12+08:00">
                2018-08-12
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>为什么要有NoSQL，关系数据库有什么问题</p>
<ol>
<li>不能存储复杂数据结构（所以有了K-V数据库：Redis）</li>
<li>scheme不好扩展（-&gt; 文档数据库）</li>
<li>大数据场景下I/O较高（-&gt; 列式存储 Hbase）<blockquote>
<p>即使读取某列数据，关系数据库也要将整行数据读取到内存</p>
</blockquote>
</li>
<li>全文搜索能力较弱（ES，luence）</li>
</ol>
<h2 id="K-V存储"><a href="#K-V存储" class="headerlink" title="K-V存储"></a>K-V存储</h2><p>优点：复杂数据结构的存储和读取简单：如读取队列第一个元素并出队列<br>缺点：不支持完整的ACID；Redis支持事务，但只支持I和C，不支持A和D</p>
<h2 id="文档数据库"><a href="#文档数据库" class="headerlink" title="文档数据库"></a>文档数据库</h2><p>优点：scheme非常容易扩展，并且新增字段对老数据也无影响，可以很容易的存储复杂数据<br>缺点：MongoDB不支持事务；无法实现join操作（要查两次）</p>
<h2 id="列式存储"><a href="#列式存储" class="headerlink" title="列式存储"></a>列式存储</h2><p>关系数据库按照行来存取数据的好处：</p>
<ul>
<li>读取多列时效率高：列都是按行存储在一起的，一次磁盘操作就能把所有需要的列读取出来</li>
<li>存储时，能够一次性完成一行中多列的写操作，保证了针对于行数据写操作的原子性和一致性。否则如果采用列存储，可能出现某些列写成功了，某些列写失败了，导致数据不一致</li>
</ul>
<p>列式存储：<br>优势：</p>
<ul>
<li>大数据量的统计操作场景下，节省IO效率，只需读取单列。（整列数据是存储在一块的）</li>
<li>压缩比好。单个列的数据相似度较高</li>
</ul>
<p>劣势：</p>
<ul>
<li>频繁的更新多列时，对磁盘是随机写，效率低；（不同列存储不连续）</li>
</ul>
<h2 id="全文搜索"><a href="#全文搜索" class="headerlink" title="全文搜索"></a>全文搜索</h2><ul>
<li>原理：倒排索引</li>
<li>为什么叫倒排索引？ 单词到文档的索引；（正排索引指文档到单词的索引；比如根据文章标题查询展示文章内容）</li>
</ul>
<p>全文搜索引擎支持 关系数据库数据 的搜索，怎么做？</p>
<blockquote>
<p>将RDB数据 -&gt; JSON文档 -&gt; 导入 ES</p>
</blockquote>
<h2 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h2><ol>
<li><p>文档数据库(如MongoDB)和ES有什么区别，他们都没有scheme的约束</p>
<blockquote>
<p>文档数据库定位于存储和访问，ES定位于搜索。但目前差别不是很大，因为系统边界的扩充，就像MongoDB要支持ACID，mysql要支持文档存储</p>
</blockquote>
</li>
<li><p>跨库操作如何保证最终一致性 / 写mysql，同时写ES，如何保证一致性？</p>
<blockquote>
<p>土的方法是 记录操作日志 + 定时校验；牛逼的是 采用分布式一致性算法</p>
</blockquote>
</li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/08/05/技术/从0开始学架构/高性能数据库集群/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="AntoneJia">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HEXO">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/05/技术/从0开始学架构/高性能数据库集群/" itemprop="url">Untitled</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-08-05T21:39:05+08:00">
                2018-08-05
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>读写分离解决数据库读写操作的压力；分库分表解决存储压力</p>
<h2 id="读写分离"><a href="#读写分离" class="headerlink" title="读写分离"></a>读写分离</h2><h3 id="架构模式"><a href="#架构模式" class="headerlink" title="架构模式"></a>架构模式</h3><p>一主多从，主负责写，从负责读</p>
<h3 id="适用的场景"><a href="#适用的场景" class="headerlink" title="适用的场景"></a>适用的场景</h3><p>读多写少</p>
<h3 id="该模式的问题"><a href="#该模式的问题" class="headerlink" title="该模式的问题"></a>该模式的问题</h3><h4 id="主从复制延迟"><a href="#主从复制延迟" class="headerlink" title="主从复制延迟"></a>主从复制延迟</h4><p>解法：</p>
<ol>
<li>写之后立即读取（一段时间内的读取），仍然读主库<ul>
<li>代码侵入高</li>
</ul>
</li>
<li>二次读取，读“从”读不到，再读一次“主”</li>
<li>重要业务读主，非重要业务读“从”<ul>
<li>典型场景：注册 + 登录的读写全部读主机</li>
</ul>
</li>
</ol>
<h4 id="分配机制"><a href="#分配机制" class="headerlink" title="分配机制"></a>分配机制</h4><p>啥叫分配机制，就是决定啥时候读主，啥时候读从<br>实现方式有两种</p>
<ul>
<li>程序代码层封装：比如TDDL</li>
<li>封装中间件</li>
</ul>
<hr>
<h2 id="分库分表"><a href="#分库分表" class="headerlink" title="分库分表"></a>分库分表</h2><h3 id="为什么要分库分表"><a href="#为什么要分库分表" class="headerlink" title="为什么要分库分表"></a>为什么要分库分表</h3><ul>
<li>单台服务器存储量级有限</li>
<li>单台存储越多，查询越慢，主备复制也更慢</li>
<li>数据都放在单台，数据风险越高</li>
</ul>
<h3 id="使用场景：是不是一定要分库分表呢"><a href="#使用场景：是不是一定要分库分表呢" class="headerlink" title="使用场景：是不是一定要分库分表呢"></a>使用场景：是不是一定要分库分表呢</h3><p>当由于数据量级大导致查询性能受影响时<br>应该先考虑如下，最后才是分库分表</p>
<ol>
<li>硬件优化：磁盘</li>
<li>数据库调优：增加索引等</li>
<li>引入缓存</li>
<li>业务层优化：代码查询逻辑优化，表结构设计优化等</li>
</ol>
<h3 id="分库分表后会带来业务查询上的复杂性，没有好的方案，就是比较复杂"><a href="#分库分表后会带来业务查询上的复杂性，没有好的方案，就是比较复杂" class="headerlink" title="分库分表后会带来业务查询上的复杂性，没有好的方案，就是比较复杂"></a>分库分表后会带来业务查询上的复杂性，没有好的方案，就是比较复杂</h3><h3 id="方式"><a href="#方式" class="headerlink" title="方式"></a>方式</h3><h4 id="业务分库-按业务分库。问题"><a href="#业务分库-按业务分库。问题" class="headerlink" title="业务分库: 按业务分库。问题"></a>业务分库: 按业务分库。问题</h4><ul>
<li>分库后join操作不好做了</li>
<li>事务问题：原本在一个数据库中的不同表可以放在同一个事务中更改，分库后就不可以了。比如，商品下单，需要插入订单表，并修改库存，订单数据和商品数据在不同库后，业务层需要保证数据一致性</li>
<li>成本增加；机器成本</li>
</ul>
<h4 id="分表"><a href="#分表" class="headerlink" title="分表"></a>分表</h4><h5 id="垂直切分"><a href="#垂直切分" class="headerlink" title="垂直切分"></a>垂直切分</h5><p>方式</p>
<ul>
<li>不同的列切到不同的表；一般不怎么查询的大字段拆出来</li>
</ul>
<p>问题（问题较水平切分少多了）</p>
<ul>
<li>当需要查询所有字段时，要操作多个表</li>
</ul>
<h5 id="水平切分"><a href="#水平切分" class="headerlink" title="水平切分"></a>水平切分</h5><p>方式</p>
<ul>
<li>按范围切（比如ID）：每个分表数据量该多大，小了分表数变多，大了单表查询性能还是慢，一般单表100w - 2000w<ul>
<li>优点：易于扩充，数据量增加，平滑扩充新的表，不需要迁移数据</li>
<li>缺点：可能存在每个分表数据分布不均匀（按ID切不存在此问题，如按时间戳切可能存在）</li>
</ul>
</li>
<li>按Hash切分（比如userId % 10 = n, 则落在第n台服务器上）<ul>
<li>优点：表分布比较均匀</li>
<li>缺点：增加表比较麻烦，需要重新分配数据</li>
</ul>
</li>
<li>配置路由（增加一张路由表，比如usr_id -&gt; table_id）<ul>
<li>优点：设计简单实用灵活，扩充表时只需迁移相应数据，增加路由表</li>
<li>缺点：查询次数增加了一次；路由表大了怎么办</li>
</ul>
</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/07/29/技术/从0开始学架构/架构基础理论/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="AntoneJia">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HEXO">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/29/技术/从0开始学架构/架构基础理论/" itemprop="url">Untitled</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-07-29T12:05:33+08:00">
                2018-07-29
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="业务子系统间强耦合，怎么解？"><a href="#业务子系统间强耦合，怎么解？" class="headerlink" title="业务子系统间强耦合，怎么解？"></a>业务子系统间强耦合，怎么解？</h4><p>举例：一个业务流程，A系统需要调用B，C，D等多个系统完成某项业务子流程<br>问题：采用接口调用方式，接口变化后系统间开发人员沟通以及改造成本都比较高</p>
<blockquote>
<p>引入消息队列</p>
</blockquote>
<h4 id="设计备选方案的原则"><a href="#设计备选方案的原则" class="headerlink" title="设计备选方案的原则"></a>设计备选方案的原则</h4><ul>
<li>备选方案不是最终方案，所以不必太过细致，防止陷入细节而忽略了整体技术架构</li>
<li>备选方案的个数 一般 3-5个，少于三个 - 思考不够，多余5个 - 耗费时间，方案之间差异性可能不大</li>
</ul>
<blockquote>
<p>做事情永远要有plan B</p>
</blockquote>
<h4 id="备选方案很多，如何选择"><a href="#备选方案很多，如何选择" class="headerlink" title="备选方案很多，如何选择"></a>备选方案很多，如何选择</h4><p>按优先级选择。综合业务发展情况，团队人员规模和技能，业务发展预测等因素，将质量属性按照优先级排序。首先挑选第一优先级的，如果都满足，挑选第二优先级的。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/07/22/技术/学习计划/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="AntoneJia">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HEXO">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/22/技术/学习计划/" itemprop="url">Untitled</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-07-22T21:09:09+08:00">
                2018-07-22
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>你是做监控的，那监控的周边技术你了解吗，业界监控怎么做的</p>
<h2 id="1、-业界监控"><a href="#1、-业界监控" class="headerlink" title="1、 业界监控"></a>1、 业界监控</h2><h3 id="ELK"><a href="#ELK" class="headerlink" title="ELK"></a>ELK</h3><p>极客时间上有课程</p>
<h3 id="CAT"><a href="#CAT" class="headerlink" title="CAT"></a>CAT</h3><p><a href="https://tech.meituan.com/CAT_in_Depth_Java_Application_Monitoring.html" target="_blank" rel="noopener">https://tech.meituan.com/CAT_in_Depth_Java_Application_Monitoring.html</a><br><a href="https://github.com/dianping/cat" target="_blank" rel="noopener">https://github.com/dianping/cat</a></p>
<h2 id="2、监控周边"><a href="#2、监控周边" class="headerlink" title="2、监控周边"></a>2、监控周边</h2><p>storm</p>
<p>Presto</p>
<p>OLAP</p>
<h2 id="其他（每周遇到的问题记录）"><a href="#其他（每周遇到的问题记录）" class="headerlink" title="其他（每周遇到的问题记录）"></a>其他（每周遇到的问题记录）</h2><p>Java 高版本集合使用方法<br>JS: 如何遍历一个Object</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/07/07/目标/今年的目标(每天看一看)/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="AntoneJia">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HEXO">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/07/目标/今年的目标(每天看一看)/" itemprop="url">Untitled</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-07-07T15:30:10+08:00">
                2018-07-07
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/生活/" itemprop="url" rel="index">
                    <span itemprop="name">生活</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="兜底方案，如果真又不开心烦闷了怎么办？"><a href="#兜底方案，如果真又不开心烦闷了怎么办？" class="headerlink" title="兜底方案，如果真又不开心烦闷了怎么办？"></a>兜底方案，如果真又不开心烦闷了怎么办？</h4><ul>
<li>唱歌，唱啥都行；跟自己对话。<blockquote>
<p>从法喜寺走回来的路上试用了这招，有效果</p>
</blockquote>
</li>
<li>向内看，看着自己的情绪，慢慢它会消失。感受自己的呼吸</li>
<li>在自己的笔记里寻找答案，多翻出来看看</li>
</ul>
<p>目标定了一大堆，落实才是关键</p>
<p>基本准则：改变自己（自我革命）</p>
<p>今年生活上的目标：</p>
<ol>
<li>对外，跟同事  朋友 老婆关系处好。性格活泛</li>
<li>对自己，什么事儿都思考思考，培养思考的习惯，都学习学习，有资本跟别人谈</li>
<li>看书 打坐 培养书法兴趣。让自己静下来，内心，向内看</li>
</ol>
<h3 id="刮骨疗伤"><a href="#刮骨疗伤" class="headerlink" title="刮骨疗伤"></a>刮骨疗伤</h3><p>自我问题</p>
<h4 id="心态"><a href="#心态" class="headerlink" title="心态"></a>心态</h4><ul>
<li>把握机会，今年还有。而且机会是靠自己的表现来争取的，每天一副消极的样子，别人怎么给你机会？</li>
<li>摘自宁浩：痛，挺过去就是痛快</li>
<li>摘自俞敏洪<blockquote>
<p>跟别人比没有任何意义，你把命都要比掉了；进步都是关于你自己的事情，所以你只要保持你自己生命在进步，付出足够的努力，至于说别人是比你好还是比你差，关你屁事</p>
</blockquote>
</li>
</ul>
<h4 id="1-【注意力】注意力不集中，跟别人讨论问题总是走神"><a href="#1-【注意力】注意力不集中，跟别人讨论问题总是走神" class="headerlink" title="1. 【注意力】注意力不集中，跟别人讨论问题总是走神"></a>1. 【注意力】注意力不集中，跟别人讨论问题总是走神</h4><blockquote>
<p>你要<strong>集中注意力</strong>，怎么做，</p>
</blockquote>
<p>why：心不静</p>
<h4 id="2-【表达能力】说话表述不清楚"><a href="#2-【表达能力】说话表述不清楚" class="headerlink" title="2. 【表达能力】说话表述不清楚"></a>2. 【表达能力】说话表述不清楚</h4><p>why：抓不住问题的重点，理解不了问题<br>how：想得不够全面</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/03/11/技术/实时计算/基础知识/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="AntoneJia">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HEXO">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/11/技术/实时计算/基础知识/" itemprop="url">Untitled</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-03-11T00:00:16+08:00">
                2018-03-11
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h2><ol>
<li>worker：指一个node服务上运行的JVM进程</li>
<li>Executor：线程</li>
<li>task：spout或bolt的实例<blockquote>
<p>一个topology会指定一个或多个worker执行；一个worker有多个excutor，默认一个executor分配一个task，但可以指定一个executor有几个task</p>
</blockquote>
</li>
<li>数据分流<ul>
<li>随机，shuffling：每个task接收的tuple相同</li>
<li>分组：按字段group by，字段相同的会落到同一个bolt的task处理</li>
<li>全局：所有tuple映射到唯一的task</li>
</ul>
</li>
</ol>
<h2 id="事务保证"><a href="#事务保证" class="headerlink" title="事务保证"></a>事务保证</h2><ul>
<li>每个批次的数据自动ACK</li>
<li>失败重发：spout重发数据</li>
<li>事务信息：每个批次数据包含一个事务ID，在重发时，开发者根据事务信息判断数据第一次到达和重发时不同的处理逻辑，保证幂等性。</li>
</ul>
<h3 id="spout的可靠性"><a href="#spout的可靠性" class="headerlink" title="spout的可靠性"></a>spout的可靠性</h3><p> spout记录它发出去的所有原始tuple，当下游bolt处理tuple或子tuple失败时能够重新发送tuple。子tuple可以理解为经过bolt处理后作为结果发出去的tuple。<br> bolt每处理完一个tuple都要向上游发送失败或成功确认。spout收到ack做应答确认，fail做失败重发</p>
<h3 id="bolt可靠性"><a href="#bolt可靠性" class="headerlink" title="bolt可靠性"></a>bolt可靠性</h3><p> 将收到和tuple和处理后的tuple绑定，方便失败时一级一级往上ack</p>
<h2 id="数据存储"><a href="#数据存储" class="headerlink" title="数据存储"></a>数据存储</h2><ul>
<li>中间表数据： 如计算UV时的明细数据。</li>
<li>结果表</li>
<li>维表<blockquote>
<p>一般采用Habse存储，Hbase单张表大小可存储几TB或更大，而关系型数据库必须分库分表才能做到。并且Hbase多并发读写效率高。<br>但Habse 不支持like查询，多个维度时指定维度查询等</p>
</blockquote>
</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/03/10/技术/实时计算/计算案例/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="AntoneJia">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HEXO">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/10/技术/实时计算/计算案例/" itemprop="url">Untitled</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-03-10T23:15:54+08:00">
                2018-03-10
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="UV"><a href="#UV" class="headerlink" title="UV"></a>UV</h2><p>计算方式</p>
<ol>
<li><p>精确去重：明细数据必然会存储在内存中。如果遇到单机内存问题时，考虑如何将一台机器的内存压力分散到多台机器上。</p>
<blockquote>
<p>以userID哈希到不同的桶上，相同的userId一定哈希到同一个桶里去重。每个桶分别去重，最后将所有桶的UV相加就是总UV</p>
</blockquote>
</li>
<li><p>模糊去重：</p>
<ul>
<li>布隆过滤器: <a href="https://yq.aliyun.com/articles/3607" target="_blank" rel="noopener">https://yq.aliyun.com/articles/3607</a></li>
<li>基数估计: <a href="http://blog.codinglabs.org/articles/algorithms-for-cardinality-estimation-part-i.html" target="_blank" rel="noopener">http://blog.codinglabs.org/articles/algorithms-for-cardinality-estimation-part-i.html</a></li>
</ul>
</li>
</ol>
<h2 id="多流关联"><a href="#多流关联" class="headerlink" title="多流关联"></a>多流关联</h2><p>流失计算中，数据的到达是个增量的过程，并且数据到达的时间是不确定和无序的，因此数据处理过程中会遇到中间状态保存和恢复机制等细节问题。</p>
<p>比如，A表和B表使用ID进行实时关联，由于无法知道两个表的到达顺序，因此两个数据流的每条数据到达时，都需要到对方表的当前全量数据中查找。如A表的某条数据到达，到B表的全量数据中查找，如果能查到，说明可以关联上，拼接成一条记录直接输出到下游表，否则则需要放在内存或外部存储中等待，直到B表的记录到达。多表关联的一个关键点就是需要互相等待，只有双方都到达了，才能关联成功。</p>
<blockquote>
<ol>
<li><p>为什么需要每个流都需要去关联另一个流，而不是只是A流的数据去关联B？因为：A流中的数据如果关联不上B流，就存在内存中一直等待，只有B流数据过来取关联才能继续往下走，否则无法再次触发关联</p>
</li>
<li><p>不管是否关联成功，内存中的数据都需要备份到外部存储中。在任务重启时，可以在外部存储中恢复数据，保证数据不丢失。因为任务重启时，任务是续跑的，不会重跑之前的数据。</p>
</li>
<li><p>在实际处理上，考虑到查找数据的效率，实时关联这个步骤一般会按照关联主键分桶处理，并且在故障恢复时也根据分桶来进行，以降低查找数据量和提高吞吐量</p>
</li>
</ol>
</blockquote>
<h2 id="维表关联"><a href="#维表关联" class="headerlink" title="维表关联"></a>维表关联</h2><p>维表的使用方式有两种：</p>
<ol>
<li>全量加载：数据量少的情况下（几万条没问题）全量加载到内存中，在内存中直接关联，效率高。缺点：常占内存，并需要定时更新</li>
<li>增量加载：实时去外部存储中去查询后放入内存，并采用LRU方式内存管理，每隔一段时间清理一下最近最少使用的数据，防止内存溢出。</li>
</ol>
<h2 id="大促保障"><a href="#大促保障" class="headerlink" title="大促保障"></a>大促保障</h2><h3 id="压测"><a href="#压测" class="headerlink" title="压测"></a>压测</h3><ol>
<li>蓄洪压测<ul>
<li>原理：将几天的数据积累起来，同一时刻放出来。</li>
</ul>
</li>
<li>回放压测</li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/2/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><a class="page-number" href="/page/5/">5</a><a class="extend next" rel="next" href="/page/4/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="AntoneJia" />
          <p class="site-author-name" itemprop="name">AntoneJia</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives/">
                <span class="site-state-item-count">44</span>
                <span class="site-state-item-name">posts</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">7</span>
                <span class="site-state-item-name">categories</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">17</span>
                <span class="site-state-item-name">tags</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">AntoneJia</span>
</div>


<div class="powered-by">
  Powered by <a class="theme-link" href="https://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Muse
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script>



  
  

  
    <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script>



  


  




	





  





  






  





  

  

  

  

  

  

</body>
</html>
